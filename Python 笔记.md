# Python 笔记

##### 到底什么是 Python？


下面是一些关键点：
>- Python 是一种解释型语言。这就是说，与 C 语言和 C 的衍生语言不同，Python 代码在运行之前不需要编译。其他解释型语言还包括 PHP 和 Ruby。Python 和 Perl 是两个常见的弱类型程序设计语言的例子，你可以将数字组成的字符串保存在数字类型中。
>- Python 是动态类型语言，指的是你在声明变量时，不需要说明变量的类型。可以直接编写类似 x=111 和 x=“I'm a string” 这样的代码，程序不会报错。
>- Python 非常适合面向对象的编程（OOP），因为它支持通过组合（composition）与继承（inheritance）的方式定义类（class）。Python 中没有访问说明符（access specifier，类似 C++ 中的 public 和 private），这么设计的依据是 “大家都是成年人了” 。
>- 在 Python 语言中，函数是第一类对象（first-class objects）。这指的是它们可以被指定给变量，函数既能返回函数类型，也可以接受函数作为输入。类（class）也是第一类对象。
>- Python 代码编写快，但是运行速度比编译语言通常要慢。好在 Python 允许加入基于 C 语言编写的扩展，因此我们能够优化代码，消除瓶颈，这点通常是可以实现的。numpy 就是一个很好的例子，它的运行速度真的非常快，因为很多算术运算其实并不是通过 Python 实现的。
>- Python 用途非常广泛--网络应用，自动化，科学建模，大数据应用，等等。它也常被用作“胶水语言”，帮助其他语言和组件改善运行状况。
>- Python 让困难的事情变得容易，因此程序员可以专注于算法和数据结构的设计，而不用处理底层的细节。
>- Python 支持多种数据类型，在计算机内部，可以把任何数据都看成一个“对象”，而变量就是在程序中用来指向这些数据对象的，对变量赋值就是把数据和变量给关联起来。



##### Python 的交互模式和直接运行 ```.py``` 文件有什么区别呢？

> 直接输入 ```python``` 进入交互模式，相当于启动了 Python 解释器，但是等待用户一行一行地输入源代码，每输入一行就执行一行。
>
> 直接运行 ```.py``` 文件相当于启动了 Python 解释器，然后一次性把 ```.py``` 文件的源代码给执行了，用户是没有机会以交互的方式输入源代码的。

##### 当我们写：```a = 'ABC'``` 时，Python 解释器干了两件事情：

> 1. 在内存中创建了一个 ```'ABC'``` 的字符串；
> 2. 在内存中创建了一个名为 ```a``` 的变量，并把它指向 ```'ABC'```。

##### 零碎

默认参数必须指向不变对象！

> - 对变量赋值 ```x = y``` 是把变量 ```x``` 指向真正的对象，该对象是变量 ```y``` 所指向的。随后对变量 ```y``` 的赋值不影响变量 ```x``` 的指向。
>
> - 定义可变参数和定义一个 list 或 tuple 参数相比，仅仅在参数前面加了一个 ```*``` 号。在函数内部，参数 ```numbers``` 接受到的是一个 tuple，因此，函数代码完全不变。但是，调用该函数时，可以传入任意个参数，包括 0 个参数。
>
> - ```
>   >>> calc()
>   0
>   ```
>
>
> - ```*nums``` 表示把 ```nums``` 这个 list 的所有元素作为可变参数传进去。
> - Python3 不换行加 ```end = ""``` 
> - 多分支结构是二分支结构的扩展
> - 使用 while 能够实现循环计数
> - 所有面向对象编程能实现的功能采用面向过程同样能完成
> - 函数可以没有 return 语句
> - 函数定义时参数相当于占位符

##### 什么是函数（function）和方法（method）？

> - 函数是一段代码，通过名字来进行调用。它能将一些数据（参数）传递进去进行处理，然后返回一些数据（返回值），也可以没有返回值。
>   - 所有传递给函数的数据都是显式传递的。
> - 方法也是一段代码，也通过名字来进行调用，但它跟一个对象相关联。方法和函数大致上是相同的，但有两个主要的不同之处：
>   - 方法🀄️的数据是隐式传递的；
>   - 方法可以操作类内部的数据（请记住，对象是类的实例化-类定义了一个数据类型，而对象是该数据类型的一个实例化）

##### 谈一谈Python的装饰器（decorator）

> 装饰器本质上是一个Python函数，它可以让其它函数在不作任何变动的情况下增加额外功能，装饰器的返回值也是一个函数对象。它经常用于有切面需求的场景。有了装饰器我们就可以抽离出大量的与函数功能无关的雷同代码进行重用。

##### 简要描述Python的垃圾回收机制（garbage collection）

> Python中的垃圾回收是以**引用计数**为主，**标记-清除**和**分代收集**为辅。 
>
> - 引用计数：Python在内存中存储每个对象的引用计数，如果计数变成0，该对象就会消失，分配给该对象的内存就会释放出来。
> - 标记-清除：一些容器对象，比如list、dict、tuple，instance等可能会出现引用循环，对于这些循环，垃圾回收器会定时回收这些循环（对象之间通过引用（指针）连在一起，构成一个有向图，对象构成这个有向图的节点，而引用关系构成这个有向图的边）。
> - 分代收集：Python把内存根据对象存活时间划分为三代，对象创建之后，垃圾回收器会分配它们所属的代。每个对象都会被分配一个代，而被分配更年轻的代是被优先处理的，因此越晚创建的对象越容易被回收。

##### Python多线程（multi-threading）。这是个好主意吗？

> Python并不支持真正意义上的多线程，Python 提供了多线程包。Python 中有一个叫Global Interpreter Lock（GIL）的东西，它能确保你的代码中永远只有一个线程在执行。经过GIL的处理，会增加执行的开销。这就意味着如果你先要提高代码执行效率，使用 threading 不是一个明智的选择，当然如果你的代码是 IO 密集型，多线程可以明显提高效率，相反如果你的代码是 CPU 密集型的这种情况下多线程大部分是鸡肋。

##### 说明**os,sys**模块不同，并列举常用的模块方法？

> os模板提供了一种方便的使用操作系统函数的方法
>
> sys模板可供访问由解释器使用或维护的变量和与解释器交互的函数

##### 什么是lambda表达式？它有什么好处？

> 简单来说，lambda表达式通常是当你需要使用一个函数，但是又不想费脑袋去命名一个函数的时候使用，也就是通常所说的匿名函数。
>
> lambda表达式一般的形式是：关键词 lambda 后面紧接一个或多个参数，紧接一个冒号“：”，紧接一个表达式。lambda表达式是一个表达式不是一个语句。

##### __new__和__init__的区别。

> - __init__为初始化方法，__new__方法是真正的构造函数。
> - __new__是实例创建之前被调用，它的任务是创建并返回该实例，是静态方法
> - __init__是实例创建之后被调用的，然后设置对象属性的一些初始值。

##### 什么是GIL?

> 什么是GIL(Global Interpreter Lock)全局解释器锁? 简单地说就是:
> 每一个interpreter进程,只能同时仅有一个线程来执行, 获得相关的锁, 存取相关的资源.
> 那么很容易就会发现,如果一个interpreter进程只能有一个线程来执行, 
> 多线程的并发则成为不可能, 即使这几个线程之间不存在资源的竞争.
> 从理论上讲,我们要尽可能地使程序更加并行, 能够充分利用多核的功能.

**应用层协议：**

> 1、远程登录协议（Telnet)
>
> 2、文件传输协议（FTP）
>
> 3、超文本传输协议（HTTP）
>
> 4、域名服务协议（DNS）
>
> 5、简单邮件传输协议（SMTP）
>
> 6、邮局协议（POP3）

HTTP协议对**GET和POST**都没有对长度的限制，而对于URL长度上的限制是浏览器跟服务器造成的。 **Get**是向服务器发索取数据的一种请求，而**Post**是向服务器提交数据的一种请求，在FORM（表单）中，Method默认为"**GET**"，实质上，**GET和POST**只是发送机制不同，并不是一个取一个发！

##### fork一个进程和生成一个线程有什么区别？

> 当你fork一个进程时，新的进程将执行和父进程相同的代码，只是在不同的内存空间中。但当你在已有进程中生成一个线程时，它会生成一个新的代码执行路线，但共享同一个内存空间。

##### 什么是版本控制？([answer](http://javarevisited.blogspot.sg/2013/04/difference-between-trunk-tags-and-branch-svn-cvs-git-scm-subversion.html))

> 版本控制是用来存储代码和管理代码库版本的软件，例如SVN、CVS、Git、Perforce和ClearCase。它们在对比代码、审查代码和从之前的稳定版本构造时十分高效。所有的专业开发都使用某种版本控制工具，否则你无法有效的管理代码，尤其是如果有20个开发者在同一个代码库上工作的时候。版本控制工具在保持代码库一致性和处理代码冲突上扮演着十分重要的角色。

##### 什么是SQL注入？

> SQL 注入是一种安全漏洞，它使得入侵者可以从系统中窃取数据。任何从用户那里得到输入并不加验证地创建SQL查询的系统都可能被 SQL 注入攻击。在这样的系统中，入侵者可以输入 SQL 代码，而不是数据，来获取额外的数据。有很多用敏感信息（如用户id、密码和个人信息）被人利用这种漏洞获取的实例。 

##### 类和对象的区别是什么？ ([detailed answer](http://javarevisited.blogspot.sg/2012/12/difference-between-class-and-object-in-oops-java.html))

> 类是用来创建对象的设计图。一个类包括代码和行为，一个对象包括状态和行为。要创建一个对象，你必须创建一个表达对象结构的类。类还被用来在内存中映射对象。

##### 生成器

> Python有两种不同的方式提供生成器：
>
> 1. **生成器函数：**常规函数定义，但是，使用yield语句而不是return语句返回结果。yield语句一次返回一个结果，在每个结果中间，挂起函数的状态，以便下次重它离开的地方继续执行
> 2. **生成器表达式：**类似于列表推导，但是，生成器返回按需产生结果的一个对象，而不是一次构建一个结果列表

Python 中的函数式

- def：自定义函数
- lambda：匿名函数
- functools.partial：函数封装
- functools.wraps：装饰器

闭包作用

- 封装
- 代码复用

数据结构是基础

二进制：0b

八进制：0o

十六进制：0x

转二进制：bin()

转十进制：int()

转十六进制：hex()

转八进制：oct()